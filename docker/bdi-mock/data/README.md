# How to generate test data üìÅ

The *data* folder provides the following test data:
- test.zip.p7m - Contains the XML files of the *xml_files* folder
- test_2.zip.p7m - Same as **test.zip.p7m**
- test_empty.zip.p7m - Empty zip

If you want to create more you can follow these steps:

### Generate a test XML file
Create a test xml starting from structure of the file __TS-ITSADNN832912398-800.001.003-20251121-229-803.xml__.
This is just a sample file containing test data.

### Zip the files
Once you created enough test file, you can zip them in one archive using:
```shell
zip test_archive.zip test1.xml test2.xml ...
```

### Sign the zip test file with S/MIME
You can sign the zip test file using this command:
```shell
openssl smime -sign -binary -in test_archive.zip -nodetach -outform DER -signer ../cert/bdi-mock.pem -inkey ../cert/bdi-mock.key -out test_archive.zip.p7m
```
This command will generate a file __test_archive.zip.p7m__, signed with your autogenerated keys in DER format, as the original
files are made.

### How to verify the signature
To test the generated signed file you must use this command:
```shell
 openssl smime -verify -in test_archive.zip.p7m -inform DER -noverify -out test_archive.zip
```
This command command will generate the original zip file as output, because of the __-out__ option.