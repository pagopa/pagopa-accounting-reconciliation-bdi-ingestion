# How to generate test data ğŸ“

### Generate a test XML file
Create a test xml starting from structure of the file __TS-ITSADNN832912398-800.001.003-20251121-229-803.xml__ .
This is just a sample file containing test data.

### Zip the files
Once you created enough test file, you can zip them in one archive using :
```shell
zip test_archive.zip test1.xml test2.xml ...
```

### Generate test certificate
To generate your personal public key and private key you can use the command:

```shell
openssl req -x509 -newkey rsa:4096 -keyout test_p_cert.key -out test_cert.crt -days 365 -nodes
```

This command will generate the files __test_p_cert.key__ for the private key and __test_cert.crt__ for the public key.

### How to sign the zip test file with S/MIME
You can use your private and public keys to sign the zip test file using this command:
```shell
openssl smime -sign -in test.zip -nodetach -outform DER -signer test_cert.crt -inkey test_p_cert.key -out test.zip.p7m
```
This command will generate a file __test.zip.p7m__, signed with your autogenerated keys in DER format, as the original 
files are made.

### How to verify the signature
For test signed file generated you must use this command :
```shell
 openssl smime -verify -in test.zip.p7m -inform DER -noverify -out test.zip
```
This command command will generate the original zip file as output, because of the __-out__ option.